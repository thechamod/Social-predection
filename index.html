<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social predection</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
          --primary-color: #5b86e5;
          --primary-light: #36d1dc;
          --secondary-color: #fc466b;
          --text-color: #333;
          --light-text: #6c757d;
          --border-color: #dee2e6;
          --bg-color: #f8f9fa;
          --card-color: #ffffff;
          --input-bg: #f2f7ff;
          --success-color: #2ecc71;
          --warning-color: #f39c12;
          --error-color: #e74c3c;
        }
        
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }
        
        body {
          font-family: 'Poppins', sans-serif;
          background: linear-gradient(135deg, var(--primary-light), var(--primary-color));
          min-height: 100vh;
          display: flex;
          justify-content: center;
          align-items: center;
          padding: 20px;
          color: var(--text-color);
          position: relative;
          overflow-x: hidden;
        }
        
        body::before {
          content: '';
          position: absolute;
          width: 300px;
          height: 300px;
          background: rgba(255, 255, 255, 0.1);
          border-radius: 50%;
          top: -100px;
          right: -100px;
          z-index: 0;
          animation: floatBubble 15s infinite ease-in-out;
        }
        
        body::after {
          content: '';
          position: absolute;
          width: 200px;
          height: 200px;
          background: rgba(255, 255, 255, 0.1);
          border-radius: 50%;
          bottom: -50px;
          left: -50px;
          z-index: 0;
          animation: floatBubble 12s infinite ease-in-out reverse;
        }
        
        @keyframes floatBubble {
          0% { transform: translate(0, 0) scale(1); }
          50% { transform: translate(20px, 20px) scale(1.1); }
          100% { transform: translate(0, 0) scale(1); }
        }
        
        .container {
          background-color: var(--card-color);
          border-radius: 20px;
          box-shadow: 0 15px 35px rgba(50, 50, 93, 0.1), 0 5px 15px rgba(0, 0, 0, 0.07);
          padding: 40px;
          width: 95%;
          max-width: 550px;
          position: relative;
          z-index: 1;
          overflow: hidden;
          animation: fadeInUp 0.8s ease-out;
        }
        
        .container::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 5px;
          background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        }
        
        h1 {
          text-align: center;
          margin-bottom: 30px;
          position: relative;
          padding-bottom: 15px;
          font-weight: 700;
          color: var(--primary-color);
          animation: fadeIn 1s ease-out;
        }
        
        h1::after {
          content: '';
          position: absolute;
          bottom: 0;
          left: 50%;
          transform: translateX(-50%);
          width: 50px;
          height: 3px;
          background: linear-gradient(90deg, var(--primary-light), var(--primary-color));
          border-radius: 3px;
        }
        
        .form-group {
          margin-bottom: 25px;
          position: relative;
          animation: fadeIn 1s ease-out;
          animation-fill-mode: both;
        }
        
        .form-group:nth-child(1) {
          animation-delay: 0.2s;
        }
        
        .form-group:nth-child(2) {
          animation-delay: 0.4s;
        }
        
        label {
          display: block;
          margin-bottom: 10px;
          font-weight: 500;
          color: var(--text-color);
          transition: all 0.3s;
          transform-origin: left;
        }
        
        input {
          width: 100%;
          padding: 15px 20px;
          border: 2px solid var(--border-color);
          border-radius: 12px;
          font-size: 16px;
          background-color: var(--input-bg);
          color: var(--text-color);
          font-family: 'Poppins', sans-serif;
          transition: all 0.3s;
          box-shadow: 0 0 0 rgba(0, 0, 0, 0);
        }
        
        input:focus {
          border-color: var(--primary-color);
          outline: none;
          box-shadow: 0 5px 15px rgba(91, 134, 229, 0.1);
          transform: translateY(-2px);
        }
        
        input::placeholder {
          color: #aab7c4;
        }
        
        button {
          background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
          color: white;
          border: none;
          padding: 15px 20px;
          border-radius: 12px;
          cursor: pointer;
          width: 100%;
          font-size: 16px;
          font-weight: 600;
          letter-spacing: 0.5px;
          font-family: 'Poppins', sans-serif;
          box-shadow: 0 5px 15px rgba(91, 134, 229, 0.3);
          transition: all 0.3s;
          position: relative;
          overflow: hidden;
          animation: fadeIn 1s ease-out;
          animation-delay: 0.6s;
          animation-fill-mode: both;
        }
        
        button::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
          transition: 0.5s;
        }
        
        button:hover {
          transform: translateY(-3px);
          box-shadow: 0 7px 20px rgba(91, 134, 229, 0.4);
        }
        
        button:hover::before {
          left: 100%;
        }
        
        button:active {
          transform: translateY(0);
          box-shadow: 0 3px 10px rgba(91, 134, 229, 0.3);
        }
        
        .prediction {
          margin-top: 30px;
          padding: 20px;
          background-color: #fff;
          border-radius: 12px;
          border-left: 4px solid var(--primary-color);
          box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
          transform: translateY(20px);
          opacity: 0;
          transition: all 0.5s ease;
          position: relative;
          overflow: hidden;
          display: none;
        }
        
        .prediction.show {
          transform: translateY(0);
          opacity: 1;
          display: block;
        }
        
        .prediction h3 {
          margin-top: 0;
          color: var(--primary-color);
          font-weight: 600;
          margin-bottom: 15px;
        }
        
        .prediction p {
          line-height: 1.6;
          color: var(--text-color);
          position: relative;
          padding-left: 20px;
        }
        
        .prediction p::before {
          content: '';
          position: absolute;
          left: 0;
          top: 8px;
          width: 8px;
          height: 8px;
          background-color: var(--primary-color);
          border-radius: 50%;
        }
        
        .footer {
          text-align: center;
          margin-top: 40px;
          color: var(--light-text);
          font-size: 14px;
          font-weight: 500;
          position: relative;
          padding-top: 20px;
          animation: fadeIn 1s ease-out;
          animation-delay: 0.8s;
          animation-fill-mode: both;
        }
        
        .footer::before {
          content: '';
          position: absolute;
          top: 0;
          left: 50%;
          transform: translateX(-50%);
          width: 30px;
          height: 2px;
          background-color: var(--border-color);
        }
        
        .error {
          color: var(--error-color);
          font-size: 13px;
          margin-top: 8px;
          display: none;
          padding-left: 5px;
          animation: shake 0.5s;
          font-weight: 500;
        }
        
        /* Animations */
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
        
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes shake {
          0%, 100% {transform: translateX(0);}
          10%, 30%, 50%, 70%, 90% {transform: translateX(-5px);}
          20%, 40%, 60%, 80% {transform: translateX(5px);}
        }
        
        /* Background effect elements */
        .floating-shape {
          position: absolute;
          background: rgba(255, 255, 255, 0.05);
          border-radius: 50%;
          z-index: 0;
        }
        
        .shape1 {
          width: 100px;
          height: 100px;
          top: 10%;
          left: 10%;
          animation: float 15s infinite linear;
        }
        
        .shape2 {
          width: 150px;
          height: 150px;
          bottom: 10%;
          right: 10%;
          animation: float 18s infinite linear reverse;
        }
        
        .shape3 {
          width: 70px;
          height: 70px;
          top: 50%;
          left: 50%;
          animation: float 12s infinite linear;
        }
        
        @keyframes float {
          0% {transform: translate(0, 0) rotate(0deg);}
          25% {transform: translate(10px, 15px) rotate(90deg);}
          50% {transform: translate(15px, 5px) rotate(180deg);}
          75% {transform: translate(5px, 10px) rotate(270deg);}
          100% {transform: translate(0, 0) rotate(360deg);}
        }
        
        /* Success animation */
        .prediction-success {
          display: none;
          position: fixed;
          top: 20px;
          right: 20px;
          background-color: var(--success-color);
          color: white;
          padding: 15px 25px;
          border-radius: 8px;
          box-shadow: 0 5px 15px rgba(46, 204, 113, 0.3);
          animation: slideInRight 0.5s forwards, fadeOut 0.5s 3s forwards;
          z-index: 1000;
        }
        
        @keyframes slideInRight {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        
        @keyframes fadeOut {
          from {
            opacity: 1;
          }
          to {
            opacity: 0;
          }
        }
        
        /* Loading state */
        .loading {
          display: inline-block;
          width: 20px;
          height: 20px;
          border: 3px solid rgba(255, 255, 255, 0.3);
          border-radius: 50%;
          border-top-color: white;
          animation: spin 1s infinite linear;
          margin-right: 10px;
          vertical-align: middle;
        }
        
        @keyframes spin {
          to {transform: rotate(360deg);}
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
          .container {
            padding: 30px 20px;
            width: 95%;
          }
          
          button {
            padding: 14px;
          }
          
          h1 {
            font-size: 24px;
          }
        }
        
        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
          :root {
            --text-color: #e1e1e1;
            --light-text: #a0a0a0;
            --border-color: #4a4a4a;
            --bg-color: #121212;
            --card-color: #1e1e1e;
            --input-bg: #2d2d2d;
          }
          
          body {
            background: linear-gradient(135deg, #2b2b2b, #1a1a1a);
          }
          
          .container::before {
            opacity: 0.8;
          }
          
          input {
            background-color: var(--input-bg);
            color: var(--text-color);
          }
          
          input::placeholder {
            color: #6d6d6d;
          }
          
          .prediction {
            background-color: #262626;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
          }
        }
    </style>
</head>
<body>
    <div class="floating-shape shape1"></div>
    <div class="floating-shape shape2"></div>
    <div class="floating-shape shape3"></div>
    
    <div class="container">
        <h1>social predection</h1>
        
        <div class="form-group">
            <label for="name">ඔබගේ නම:</label>
            <input type="text" id="name" placeholder="නම ඇතුළත් කරන්න">
            <div id="nameError" class="error">නම ඇතුළත් කිරීම අවශ්‍යයි</div>
        </div>
        
        <div class="form-group">
            <label for="age">ඔබගේ වයස:</label>
            <input type="number" id="age" min="1" max="120" placeholder="වයස ඇතුළත් කරන්න">
            <div id="ageError" class="error">වයස ඇතුළත් කිරීම අවශ්‍යයි</div>
        </div>
        
        <button id="predictBtn">අනාවැකිය ලබා ගන්න</button>
        
        <div id="prediction" class="prediction">
            <h3>Your predection:</h3>
            <p id="predictionText"></p>
        </div>
        
        <div class="footer">
            Created by Chamod
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB7SDDKQRL_sjDKfRPB4ifuHp8oBdB9-VE",
            authDomain: "al-master-1cd6e.firebaseapp.com",
            projectId: "al-master-1cd6e",
            storageBucket: "al-master-1cd6e.firebasestorage.app",
            messagingSenderId: "932509501027",
            appId: "1:932509501027:web:880015a9d5e088775dda56",
            databaseURL: "https://al-master-1cd6e-default-rtdb.firebaseio.com"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        
        // Predictions based on age groups
        const predictions = {
            child: [
                "ඔබ ඉදිරියේදී විද්‍යාඥයෙක් වනු ඇත.",
                "ඔබ තාරකා විද්‍යාව ගැන උනන්දුවක් දක්වනු ඇත.",
                "ඔබ ක්‍රීඩා ක්ෂේත්‍රයේ සාර්ථක අයෙක් වනු ඇත.",
                "ඔබ චිත්‍ර ශිල්පියෙක් ලෙස ප්‍රසිද්ධ වනු ඇත.",
                "ඔබ සතුන් සමඟ වැඩ කරන වෘත්තියක් තෝරා ගනු ඇත."
            ],
            teen: [
                "ඔබ විදේශ රටක අධ්‍යාපනය ලබනු ඇත.",
                "ඔබ තාක්ෂණික ක්ෂේත්‍රයේ නවෝත්පාදකයෙක් වනු ඇත.",
                "ඔබ සංගීත ක්ෂේත්‍රයේ සාර්ථකත්වය ලබනු ඇත.",
                "ඔබ සමාජ මාධ්‍ය තුළ ප්‍රසිද්ධ පුද්ගලයෙක් වනු ඇත.",
                "ඔබ ව්‍යවසායකයෙක් ලෙස සාර්ථක වනු ඇත."
            ],
            youngAdult: [
                "ඔබ සාර්ථක ව්‍යාපාරයක් ආරම්භ කරනු ඇත.",
                "ඔබ ලෝකය වටා ගමන් කරනු ඇත.",
                "ඔබ පොතක් ලිවීමට යොමු වනු ඇත.",
                "ඔබ ඔබේ ක්ෂේත්‍රයේ නායකයෙකු බවට පත් වනු ඇත.",
                "ඔබ මහජන සේවයේ වැදගත් තනතුරක් දරනු ඇත."
            ],
            adult: [
                "ඔබ ජීවිතයේ දෙවන අවස්ථාවක් ලෙස නව වෘත්තියක් ආරම්භ කරනු ඇත.",
                "ඔබ පරිසර සංරක්ෂණයට සක්‍රීයව දායක වනු ඇත.",
                "ඔබ සාර්ථක ආයෝජනයකින් මූල්‍යමය නිදහස ලබනු ඇත.",
                "ඔබ තරුණ පරපුරට මඟ පෙන්වන උපදේශකයෙකු වනු ඇත.",
                "ඔබ ප්‍රජා සංවර්ධනයේ ප්‍රධාන චරිතයක් වනු ඇත."
            ],
            senior: [
                "ඔබගේ ජීවන අත්දැකීම් ගැන පොතක් ලියනු ඇත.",
                "ඔබ තරුණ පරම්පරාවේ මෙන්ටර් කෙනෙකු වනු ඇත.",
                "ඔබ නව භාෂාවක් ඉගෙන ගැනීමට පටන් ගනු ඇත.",
                "ඔබ ඔබේ ප්‍රජාවේ ගෞරවනීය නායකයෙකු වනු ඇත.",
                "ඔබ නව රටක ජීවත් වීමට තීරණය කරනු ඇත."
            ]
        };
        
        document.getElementById('predictBtn').addEventListener('click', function() {
            const name = document.getElementById('name').value.trim();
            const age = parseInt(document.getElementById('age').value);
            
            // Reset error messages
            document.getElementById('nameError').style.display = 'none';
            document.getElementById('ageError').style.display = 'none';
            
            // Validate inputs
            let hasError = false;
            
            if (!name) {
                document.getElementById('nameError').style.display = 'block';
                hasError = true;
            }
            
            if (!age || isNaN(age) || age < 1 || age > 120) {
                document.getElementById('ageError').style.display = 'block';
                hasError = true;
            }
            
            if (hasError) return;
            
            // Show loading state on button
            this.innerHTML = '<span class="loading"></span> වැඩ කරමින්...';
            this.disabled = true;
            
            // Determine age group
            let ageGroup;
            if (age <= 12) ageGroup = 'child';
            else if (age <= 19) ageGroup = 'teen';
            else if (age <= 35) ageGroup = 'youngAdult';
            else if (age <= 60) ageGroup = 'adult';
            else ageGroup = 'senior';
            
            // Get random prediction for age group
            const ageGroupPredictions = predictions[ageGroup];
            const randomIndex = Math.floor(Math.random() * ageGroupPredictions.length);
            const prediction = ageGroupPredictions[randomIndex];
            
            // Save to Firebase
            const predictionData = {
                name: name,
                age: age,
                ageGroup: ageGroup,
                prediction: prediction,
                timestamp: new Date().toISOString()
            };
            
            // Save to Firebase database - use push() to create a unique ID
            database.ref('predictions').push(predictionData)
                .then(() => {
                    console.log('Data saved successfully!');
                    
                    setTimeout(() => {
                        // Reset button
                        document.getElementById('predictBtn').innerHTML = 'අනාවැකිය ලබා ගන්න';
                        document.getElementById('predictBtn').disabled = false;
                        
                        // Display prediction with animation
                        document.getElementById('predictionText').textContent = prediction;
                        const predictionDiv = document.getElementById('prediction');
                        predictionDiv.classList.add('show');
                        
                        // Show success message
                        const successMsg = document.createElement('div');
                        successMsg.className = 'prediction-success';
                        successMsg.textContent = 'අනාවැකිය සාර්ථකව ලබා ගත්තා!';
                        document.body.appendChild(successMsg);
                        successMsg.style.display = 'block';
                        
                        // Remove success message after animation
                        setTimeout(() => {
                            document.body.removeChild(successMsg);
                        }, 3500);
                    }, 1000);
                })
                .catch((error) => {
                    console.error('Error saving data: ', error);
                    document.getElementById('predictBtn').innerHTML = 'අනාවැකිය ලබා ගන්න';
                    document.getElementById('predictBtn').disabled = false;
                    alert('දත්ත සුරැකීමේ දෝෂයක්: ' + error.message);
                });
        });
    </script>
</body>
</html>
